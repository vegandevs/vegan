<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>optspace: algorithm for matrix reconstruction from a partially revealed set — optspace • vegan</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="optspace: algorithm for matrix reconstruction from a partially revealed set — optspace"><meta name="description" content="This function was adapted from the original source code in the
Roptspace R package (version 0.2.3; MIT License) by Raghunandan
H. Keshavan, Andrea Montanari, Sewoong Oh (2010). See
ROptSpace::OptSpace for more information.  Let's assume an ideal
matrix \(M\) with \((m\times n)\) entries with rank \(r\) and we
are given a partially observed matrix \(M\_E\) which contains many
missing entries. Matrix reconstruction - or completion - is the task
of filling in such entries. optspace is an efficient algorithm that
reconstructs \(M\) from \(|E|=O(rn)\) observed elements with
relative root mean square error (RMSE) $$RMSE \le
C(\alpha)\sqrt{nr/|E|}$$."><meta property="og:description" content="This function was adapted from the original source code in the
Roptspace R package (version 0.2.3; MIT License) by Raghunandan
H. Keshavan, Andrea Montanari, Sewoong Oh (2010). See
ROptSpace::OptSpace for more information.  Let's assume an ideal
matrix \(M\) with \((m\times n)\) entries with rank \(r\) and we
are given a partially observed matrix \(M\_E\) which contains many
missing entries. Matrix reconstruction - or completion - is the task
of filling in such entries. optspace is an efficient algorithm that
reconstructs \(M\) from \(|E|=O(rn)\) observed elements with
relative root mean square error (RMSE) $$RMSE \le
C(\alpha)\sqrt{nr/|E|}$$."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">vegan</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">2.7-0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-vignettes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Vignettes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-vignettes"><li><a class="dropdown-item" href="../articles/FAQ-vegan.html">Vegan FAQ</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/vegandevs/vegan/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>optspace: algorithm for matrix reconstruction from a partially revealed set</h1>

      <div class="d-none name"><code>optspace.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function was adapted from the original source code in the
<span class="pkg">Roptspace</span> R package (version 0.2.3; MIT License) by Raghunandan
H. Keshavan, Andrea Montanari, Sewoong Oh (2010). See
<code>ROptSpace::OptSpace</code> for more information.  Let's assume an ideal
matrix \(M\) with \((m\times n)\) entries with rank \(r\) and we
are given a partially observed matrix \(M\_E\) which contains many
missing entries. Matrix reconstruction - or completion - is the task
of filling in such entries. optspace is an efficient algorithm that
reconstructs \(M\) from \(|E|=O(rn)\) observed elements with
relative root mean square error (RMSE) $$RMSE \le
C(\alpha)\sqrt{nr/|E|}$$.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">optspace</span><span class="op">(</span><span class="va">x</span>, ropt <span class="op">=</span> <span class="fl">3</span>, niter <span class="op">=</span> <span class="fl">5</span>, tol <span class="op">=</span> <span class="fl">1e-5</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <p></p>
<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>An \((n\times m)\) matrix whose missing entries should be flagged as NA.</p></dd>

  <dt id="arg-ropt">ropt<a class="anchor" aria-label="anchor" href="#arg-ropt"></a></dt>
<dd><p><code>FALSE</code> to guess the rank, or a positive integer as a pre-defined rank (default: 3).</p></dd>

  <dt id="arg-niter">niter<a class="anchor" aria-label="anchor" href="#arg-niter"></a></dt>
<dd><p>Maximum number of iterations allowed.</p></dd>

  <dt id="arg-tol">tol<a class="anchor" aria-label="anchor" href="#arg-tol"></a></dt>
<dd><p>Stopping criterion for reconstruction in Frobenius norm.</p></dd>

  <dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>a logical value; <code>TRUE</code> to show progress, <code>FALSE</code> otherwise.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This implementation removes the trimming step of the original
<code>Roptspace::OptSpace</code> code in order to leave feature filtering to the
user. Some of the defaults have been adjusted to better reflect
ecological data. The implementation has been adjusted for ecological
applications as in Martino et al. (2019). The imputed matrix (M) in
the optspace output includes matrix reconstruction (XSY'), with
subsequent centering for the columns and rows.</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns a named list containing:</p>
<dl><dt>X</dt>
<dd><p>an \((n \times r)\) matrix as left singular vectors.</p></dd>

  <dt>S</dt>
<dd><p>an \((r \times r)\) matrix as singular values.</p></dd>

  <dt>Y</dt>
<dd><p>an \((m \times r)\) matrix as right singular vectors.</p></dd>

  <dt>dist</dt>
<dd><p>a vector containing reconstruction errors at each successive iteration.</p></dd>

  <dt>M</dt>
<dd><p>an \((n \times m)\) imputed matrix, with columns and rows centered to zero.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Leo Lahti and Cameron Martino, with adaptations of the method
implemented in <code>Roptspace::OptSpace</code> by Keshavan et
al. (2010).</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>


<p>Keshavan, R. H., Montanari, A., Oh, S. (2010).
  Matrix Completion From a Few Entries.
  <em>IEEE Transactions on Information Theory</em> <strong>56</strong>(6):2980–2998.</p>
<p>Martino, C., Morton, J.T., Marotz, C.A., Thompson, L.R., Tripathi, A.,
  Knight, R. &amp; Zengler, K. (2019) A novel sparse compositional technique
  reveals microbial perturbations.
  <em>mSystems</em> <strong>4</strong>, 1.</p>
<p></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">varespec</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># rclr transformation with no matrix completion for the 0/NA entries</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="decostand.html">decostand</a></span><span class="op">(</span><span class="va">varespec</span>, method <span class="op">=</span> <span class="st">"rclr"</span>, impute <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Add matrix completion</span></span></span>
<span class="r-in"><span><span class="va">xc</span> <span class="op">&lt;-</span> <span class="fu">optspace</span><span class="op">(</span><span class="va">x</span>, ropt <span class="op">=</span> <span class="fl">3</span>, niter <span class="op">=</span> <span class="fl">5</span>, tol <span class="op">=</span> <span class="fl">1e-5</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">$</span><span class="va">M</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jari Oksanen, Gavin L. Simpson, F. Guillaume Blanchet, Roeland Kindt, Pierre Legendre, Peter R. Minchin, R.B. O’Hara, Peter Solymos, M. Henry H. Stevens, Eduard Szoecs, Helene Wagner, Matt Barbour, Michael Bedward, Ben Bolker, Daniel Borcard, Tuomas Borman, Gustavo Carvalho, Michael Chirico, Miquel De Caceres, Sebastien Durand, Heloisa Beatriz Antoniazi Evangelista, Rich FitzJohn, Michael Friendly, Brendan Furneaux, Geoffrey Hannigan, Mark O. Hill, Leo Lahti, Dan McGlinn, Marie-Helene Ouellette, Eduardo Ribeiro Cunha, Tyler Smith, Adrian Stier, Cajo J.F. Ter Braak, James Weedon.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

