<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Support functions to assist with drawing of vectors (arrows) on
  ordination plots. ordiArrowMul finds the multiplier for the
  coordinates of the head of the vector such that they occupy
  fill proportion of the plot region. ordiArrowTextXY
  finds coordinates for the locations of labels to be drawn just
  beyond the head of the vector."><title>Support Functions for Drawing Vectors — ordiArrowTextXY • vegan</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Support Functions for Drawing Vectors — ordiArrowTextXY"><meta property="og:description" content="Support functions to assist with drawing of vectors (arrows) on
  ordination plots. ordiArrowMul finds the multiplier for the
  coordinates of the head of the vector such that they occupy
  fill proportion of the plot region. ordiArrowTextXY
  finds coordinates for the locations of labels to be drawn just
  beyond the head of the vector."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">vegan</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">2.6-7</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-vignettes">Vignettes</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-vignettes">
    <a class="dropdown-item" href="../articles/FAQ-vegan.html">Vegan FAQ</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/vegandevs/vegan/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Support Functions for Drawing Vectors</h1>
      
      <div class="d-none name"><code>ordiArrowTextXY.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Support functions to assist with drawing of vectors (arrows) on
  ordination plots. <code>ordiArrowMul</code> finds the multiplier for the
  coordinates of the head of the vector such that they occupy
  <code>fill</code> proportion of the plot region. <code>ordiArrowTextXY</code>
  finds coordinates for the locations of <code>labels</code> to be drawn just
  beyond the head of the vector.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ordiArrowTextXY</span><span class="op">(</span><span class="va">x</span>, <span class="va">labels</span>, <span class="va">display</span>, choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span>,</span>
<span>    rescale <span class="op">=</span> <span class="cn">TRUE</span>, fill <span class="op">=</span> <span class="fl">0.75</span>, at <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0</span><span class="op">)</span>, cex <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span><span class="fu">ordiArrowMul</span><span class="op">(</span><span class="va">x</span>, at <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0</span><span class="op">)</span>, fill <span class="op">=</span> <span class="fl">0.75</span>, <span class="va">display</span>, choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>An R object, from which <code><a href="scores.html">scores</a></code> can determine
    suitable ordination scores or an object created by
    <code><a href="envfit.html">envfit</a></code>, or a two-column matrix of coordinates of arrow
    heads on the two plot axes.</p></dd>


  <dt>labels</dt>
<dd><p>Change plotting labels. A character vector of labels for
    which label coordinates are sought. If not supplied, these will be
    determined from the row names of <code>x</code>, or <code>scores(x, ...)</code>
    if required. If either of these are not defined, suitable labels
    will be generated.</p></dd>


  <dt>display</dt>
<dd><p>a character string known to <code><a href="scores.html">scores</a></code> or one
    of its methods which indicates the type of scores to extract. In
    fitting functions these are ordinary site scores or linear
    combination scores (<code>"lc"</code>) in constrained ordination
    (<code><a href="cca.html">cca</a></code>, <code><a href="cca.html">rda</a></code>, <code><a href="dbrda.html">dbrda</a></code>). If
    <code>x</code> was created by <code>envfit</code> then <code>display</code> can not be
    set by the user and takes the value <code>"vectors"</code>. Ignored if
    <code>x</code> is a matrix.</p></dd>


  <dt>choices</dt>
<dd><p>Axes to be plotted.</p></dd>


  <dt>rescale</dt>
<dd><p>logical; should the coordinates in or extracted from
    <code>x</code> be rescaled to fill <code>fill</code> proportion of the plot
    region? The default is to always rescale the coordinates as this is
    usually desired for objects <code>x</code> from which coordinates are
    retrieved. If supplying <code>x</code> a 2-column matrix that has already
    been rescaled, then set this to <code>FALSE</code>.</p></dd>


  <dt>fill</dt>
<dd><p>numeric; the proportion of the plot to fill by the span of
    the arrows.</p></dd>


  <dt>at</dt>
<dd><p>The origin of fitted arrows in the plot.  If you plot arrows
    in other places than origin, you probably have to specify
    <code>arrrow.mul</code>.</p></dd>


  <dt>cex</dt>
<dd><p>Character expansion for text.</p></dd>


  <dt>...</dt>
<dd><p>Parameters passed to <code><a href="scores.html">scores</a></code>, and
    <code><a href="https://rdrr.io/r/graphics/strwidth.html" class="external-link">strwidth</a></code> and <code><a href="https://rdrr.io/r/graphics/strwidth.html" class="external-link">strheight</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>ordiArrowMul</code> finds a multiplier to scale a bunch of
  arrows to fill an ordination plot, and <code>ordiArrowTextXY</code> finds
  the coordinates for labels of these arrows. NB.,
  <code>ordiArrowTextXY</code> does not draw labels; it simply returns
  coordinates at which the labels should be drawn for use with another
  function, such as <code><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>For <code>ordiArrowTextXY</code>, a 2-column matrix of coordinates for the
  label centres in the coordinate system of the currently active
  plotting device.</p>


<p>For <code>ordiArrowMul</code>, a length-1 vector containing the scaling
  factor.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Jari Oksanen, with modifications by Gavin L. Simpson</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span>    <span class="co">## Scale arrows by hand to fill 80% of the plot</span></span></span>
<span class="r-in"><span>    <span class="co">## Biplot arrows by hand</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">varespec</span>, <span class="va">varechem</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">ord</span> <span class="op">&lt;-</span> <span class="fu"><a href="cca.html">cca</a></span><span class="op">(</span><span class="va">varespec</span> <span class="op">~</span> <span class="va">Al</span> <span class="op">+</span> <span class="va">P</span> <span class="op">+</span> <span class="va">K</span>, <span class="va">varechem</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">ord</span>, display <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"species"</span>,<span class="st">"sites"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="co">## biplot scores</span></span></span>
<span class="r-in"><span>    <span class="va">bip</span> <span class="op">&lt;-</span> <span class="fu"><a href="scores.html">scores</a></span><span class="op">(</span><span class="va">ord</span>, choices <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, display <span class="op">=</span> <span class="st">"bp"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="co">## scaling factor for arrows to fill 80% of plot</span></span></span>
<span class="r-in"><span>    <span class="op">(</span><span class="va">mul</span> <span class="op">&lt;-</span> <span class="fu">ordiArrowMul</span><span class="op">(</span><span class="va">bip</span>, fill <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2.092173</span>
<span class="r-in"><span>    <span class="va">bip.scl</span> <span class="op">&lt;-</span> <span class="va">bip</span> <span class="op">*</span> <span class="va">mul</span>                    <span class="co"># Scale the biplot scores</span></span></span>
<span class="r-in"><span>    <span class="va">labs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">bip</span><span class="op">)</span>                   <span class="co"># Arrow labels</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="co">## calculate coordinate of labels for arrows</span></span></span>
<span class="r-in"><span>    <span class="op">(</span><span class="va">bip.lab</span> <span class="op">&lt;-</span> <span class="fu">ordiArrowTextXY</span><span class="op">(</span><span class="va">bip.scl</span>, rescale <span class="op">=</span> <span class="cn">FALSE</span>, labels <span class="op">=</span> <span class="va">labs</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          [,1]       [,2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Al  1.9098765 -0.3562415</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> P  -0.9298005 -1.6652122</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> K  -1.0069931 -0.3764923</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="co">## arrows will touch the bounding box of the text</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/graphics/arrows.html" class="external-link">arrows</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="va">bip.scl</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span>, <span class="va">bip.scl</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span>, length <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="ordilabel.html">ordilabel</a></span><span class="op">(</span><span class="va">bip.lab</span>, labels <span class="op">=</span> <span class="va">labs</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="ordiArrowTextXY-1.png" alt="" width="700" height="1133"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="co">## Handling of ordination objects directly</span></span></span>
<span class="r-in"><span>    <span class="va">mul2</span> <span class="op">&lt;-</span> <span class="fu">ordiArrowMul</span><span class="op">(</span><span class="va">ord</span>, display <span class="op">=</span> <span class="st">"bp"</span>, fill <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/stopifnot.html" class="external-link">stopifnot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">mul</span>, <span class="va">mul2</span><span class="op">)</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jari Oksanen, Gavin L. Simpson, F. Guillaume Blanchet, Roeland Kindt, Pierre Legendre, Peter R. Minchin, R.B. O’Hara, Peter Solymos, M. Henry H. Stevens, Eduard Szoecs, Helene Wagner, Matt Barbour, Michael Bedward, Ben Bolker, Daniel Borcard, Gustavo Carvalho, Michael Chirico, Miquel De Caceres, Sebastien Durand, Heloisa Beatriz Antoniazi Evangelista, Rich FitzJohn, Michael Friendly, Brendan Furneaux, Geoffrey Hannigan, Mark O. Hill, Leo Lahti, Dan McGlinn, Marie-Helene Ouellette, Eduardo Ribeiro Cunha, Tyler Smith, Adrian Stier, Cajo J.F. Ter Braak, James Weedon.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

