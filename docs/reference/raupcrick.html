<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Raup-Crick Dissimilarity with Unequal Sampling Densities of Species — raupcrick • vegan</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Raup-Crick Dissimilarity with Unequal Sampling Densities of Species — raupcrick"><meta name="description" content="Function finds the Raup-Crick dissimilarity which is a
  probability of number of co-occurring species with species
  occurrence probabilities proportional to species frequencies."><meta property="og:description" content="Function finds the Raup-Crick dissimilarity which is a
  probability of number of co-occurring species with species
  occurrence probabilities proportional to species frequencies."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">vegan</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">2.7-0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-vignettes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Vignettes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-vignettes"><li><a class="dropdown-item" href="../articles/FAQ-vegan.html">Vegan FAQ</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/vegandevs/vegan/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Raup-Crick Dissimilarity with Unequal Sampling Densities of Species</h1>

      <div class="d-none name"><code>raupcrick.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Function finds the Raup-Crick dissimilarity which is a
  probability of number of co-occurring species with species
  occurrence probabilities proportional to species frequencies.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">raupcrick</span><span class="op">(</span><span class="va">comm</span>, null <span class="op">=</span> <span class="st">"r1"</span>, nsimul <span class="op">=</span> <span class="fl">999</span>, chase <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<p></p>
<dl><dt id="arg-comm">comm<a class="anchor" aria-label="anchor" href="#arg-comm"></a></dt>
<dd><p>Community data which will be treated as presence/absence data.</p></dd>


  <dt id="arg-null">null<a class="anchor" aria-label="anchor" href="#arg-null"></a></dt>
<dd><p>Null model used as the <code>method</code> in
     <code><a href="oecosimu.html">oecosimu</a></code>.</p></dd>


  <dt id="arg-nsimul">nsimul<a class="anchor" aria-label="anchor" href="#arg-nsimul"></a></dt>
<dd><p>Number of null communities for assessing the
     dissimilarity index.</p></dd>


  <dt id="arg-chase">chase<a class="anchor" aria-label="anchor" href="#arg-chase"></a></dt>
<dd><p>Use the Chase et al. (2011) method of tie handling (not
     recommended except for comparing the results against the Chase
     script).</p></dd>


 <dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Other parameters passed to <code><a href="oecosimu.html">oecosimu</a></code>.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Raup-Crick index is the probability that compared sampling
  units have non-identical species composition.  This probability can
  be regarded as a dissimilarity, although it is not metric: identical
  sampling units can have dissimilarity slightly above \(0\), the
  dissimilarity can be nearly zero over a range of shared species, and
  sampling units with no shared species can have dissimilarity
  slightly below \(1\). Moreover, communities sharing rare species
  appear as more similar (lower probability of finding rare species
  together), than communities sharing the same number of common
  species.</p>
<p>The function will always treat the data as binary (presence/
  absence).</p>
<p>The probability is assessed using simulation with
  <code><a href="oecosimu.html">oecosimu</a></code> where the test statistic is the observed
  number of shared species between sampling units evaluated against a
  community null model (see Examples).  The default null model is
  <code>"r1"</code> where the probability of selecting species is
  proportional to the species frequencies.</p>
<p>The <code><a href="vegdist.html">vegdist</a></code> function implements a variant of the
  Raup-Crick index with equal sampling probabilities for species using
  exact analytic equations without simulation. This corresponds to
  <code>null</code> model <code>"r0"</code> which also can be used with the
  current function.  All other null model methods of
  <code><a href="oecosimu.html">oecosimu</a></code> can be used with the current function, but
  they are new unpublished methods.</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The function returns an object inheriting from
  <code><a href="https://rdrr.io/r/stats/dist.html" class="external-link">dist</a></code> which can be interpreted as a dissimilarity
  matrix.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Chase, J.M., Kraft, N.J.B., Smith, K.G., Vellend, M. and Inouye,
  B.D. (2011). Using null models to disentangle variation in community
  dissimilarity from variation in \(\alpha\)-diversity.
  <em>Ecosphere</em> 2:art24 <a href="https://doi.org/10.1890/ES10-00117.1" class="external-link">doi:10.1890/ES10-00117.1</a></p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>The function was developed after Brian Inouye contacted us and
  informed us about the method in Chase et al. (2011), and the
  function takes its idea from the code that was published with their
  paper. The current function was written by Jari Oksanen.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>The test statistic is the number of shared species, and this is
  typically tied with a large number of simulation results. The tied
  values are handled differently in the current function and in the
  function published with Chase et al. (2011). In <span class="pkg">vegan</span>, the
  index is the number of simulated values that are smaller <em>or
  equal</em> than the observed value, but smaller than observed value is
  used by Chase et al. (2011) with option <code>split = FALSE</code> in
  their script; this can be achieved with <code>chase = TRUE</code> in
  <span class="pkg">vegan</span>.  Chase et al. (2011) script with <code>split = TRUE</code>
  uses half of tied simulation values to calculate a distance measure,
  and that choice cannot be directly reproduced in vegan (it is the
  average of <span class="pkg">vegan</span> <code>raupcrick</code> results with
  <code>chase = TRUE</code> and <code>chase = FALSE</code>).</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>The function is based on <code><a href="oecosimu.html">oecosimu</a></code>. Function
  <code><a href="vegdist.html">vegdist</a></code> with <code>method = "raup"</code> implements a related
  index but with equal sampling densities of species, and
  <code><a href="designdist.html">designdist</a></code> demonstrates its calculation.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## data set with variable species richness</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">sipoo</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## default raupcrick</span></span></span>
<span class="r-in"><span><span class="va">dr1</span> <span class="op">&lt;-</span> <span class="fu">raupcrick</span><span class="op">(</span><span class="va">sipoo</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## use null model "r0" of oecosimu</span></span></span>
<span class="r-in"><span><span class="va">dr0</span> <span class="op">&lt;-</span> <span class="fu">raupcrick</span><span class="op">(</span><span class="va">sipoo</span>, null <span class="op">=</span> <span class="st">"r0"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## vegdist(..., method = "raup") corresponds to 'null = "r0"'</span></span></span>
<span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="vegdist.html">vegdist</a></span><span class="op">(</span><span class="va">sipoo</span>, <span class="st">"raup"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">op</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span>, mar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">4</span>,<span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span><span class="op">+</span><span class="fl">.1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">dr1</span> <span class="op">~</span> <span class="va">d</span>, xlab <span class="op">=</span> <span class="st">"Raup-Crick with Null R1"</span>, ylab<span class="op">=</span><span class="st">"vegdist"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">dr0</span> <span class="op">~</span> <span class="va">d</span>, xlab <span class="op">=</span> <span class="st">"Raup-Crick with Null R0"</span>, ylab<span class="op">=</span><span class="st">"vegdist"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="raupcrick-1.png" alt="" width="700" height="1133"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="va">op</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## The calculation is essentially as in the following oecosimu() call,</span></span></span>
<span class="r-in"><span><span class="co">## except that designdist() is replaced with faster code</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> </span></span>
<span class="r-in"><span><span class="fu"><a href="oecosimu.html">oecosimu</a></span><span class="op">(</span><span class="va">sipoo</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="designdist.html">designdist</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"J"</span>, <span class="st">"binary"</span><span class="op">)</span>, method <span class="op">=</span> <span class="st">"r1"</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="co"># \dontrun{}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jari Oksanen, Gavin L. Simpson, F. Guillaume Blanchet, Roeland Kindt, Pierre Legendre, Peter R. Minchin, R.B. O’Hara, Peter Solymos, M. Henry H. Stevens, Eduard Szoecs, Helene Wagner, Matt Barbour, Michael Bedward, Ben Bolker, Daniel Borcard, Tuomas Borman, Gustavo Carvalho, Michael Chirico, Miquel De Caceres, Sebastien Durand, Heloisa Beatriz Antoniazi Evangelista, Rich FitzJohn, Michael Friendly, Brendan Furneaux, Geoffrey Hannigan, Mark O. Hill, Leo Lahti, Dan McGlinn, Marie-Helene Ouellette, Eduardo Ribeiro Cunha, Tyler Smith, Adrian Stier, Cajo J.F. Ter Braak, James Weedon.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

